ÐžÐº ðŸ‘ Ð”Ð°Ð²Ð°Ð¹ Ñ€Ð°Ð·Ð»Ð¾Ð¶Ð¸Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ JIT Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ "Ñ€Ð°Ð·Ð¾Ð³Ñ€ÐµÑ‚Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°" Ð½Ð° ÑÑ‚Ð°Ð¿Ñ‹.

---

## ðŸ”¹ Ð–Ð¸Ð·Ð½ÐµÐ½Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ» Ð¼ÐµÑ‚Ð¾Ð´Ð° Ð² .NET Ñ Tiered JIT

```
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   IL-ÐºÐ¾Ð´ (CIL Ð² ÑÐ±Ð¾Ñ€ÐºÐµ)    â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
      ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð² Ð¼ÐµÑ‚Ð¾Ð´Ð°
                â”‚
                â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Tier0 JIT (Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ñ)
 â”‚  â€¢ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸
 â”‚  â€¢ Ñ†ÐµÐ»ÑŒ: Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ð°Ñ‚ÑŒ
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
      CLR ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ Ð²Ñ‹Ð·Ð¾Ð²Ñ‹
                â”‚
   "ÐœÐµÑ‚Ð¾Ð´ Ð³Ð¾Ñ€ÑÑ‡Ð¸Ð¹?" (Ð¿Ð¾Ñ€Ð¾Ð³ N)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
    ÐÐµÑ‚ â†’ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ      Ð”Ð° â†’ 
          Ð² tier0         Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°
                           â”‚
                           â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Tier1 JIT (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´)
 â”‚  â€¢ Ð°Ð³Ñ€ÐµÑÑÐ¸Ð²Ð½Ñ‹Ð¹ inlining
 â”‚  â€¢ Ñ€Ð°ÑÐºÑ€ÑƒÑ‚ÐºÐ° Ñ†Ð¸ÐºÐ»Ð¾Ð²
 â”‚  â€¢ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ bound checks
 â”‚  â€¢ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð²
 â”‚  â€¢ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ…Ð²Ð¾ÑÑ‚Ð¾Ð²Ñ‹Ñ… Ð²Ñ‹Ð·Ð¾Ð²Ð¾Ð²
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”¹ "Ð¥Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ð¹" vs "Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÑ‚Ñ‹Ð¹ JIT"

* **Ð¥Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ð¹ JIT** â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´, ÐµÑ‰Ñ‘ Ð½Ðµ JIT-ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½ â†’ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð°ÑƒÐ·Ð° Ð½Ð° ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸ÑŽ.
* **Tier0** â€” Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹, Ð½Ð¾ Ð½Ðµ ÑÑƒÐ¿ÐµÑ€ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ (ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚).
* **Ð Ð°Ð·Ð¾Ð³Ñ€ÐµÑ‚Ñ‹Ð¹ JIT** â€” Ð¼ÐµÑ‚Ð¾Ð´ ÑƒÐ¶Ðµ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ð½ Ð² **Tier1** Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð² Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¼ Ð²Ð¸Ð´Ðµ.

---

## ðŸ”¹ ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ ÑÑ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾

* ÐŸÑ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ (tier0).
* Ð§ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐ¾Ñ‚ÐµÐ½/Ñ‚Ñ‹ÑÑÑ‡ Ð²Ñ‹Ð·Ð¾Ð²Ð¾Ð² "Ð³Ð¾Ñ€ÑÑ‡Ð¸Ðµ" Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð¸ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ.
* Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ BenchmarkDotNet Ð²ÑÐµÐ³Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ **Warmup** (Ð¾Ñ‚Ð±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ðµ Ð¸Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ð¸).

---

ðŸ‘‰ ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ€Ð°Ð·Ð½Ð¸Ñ†Ñ‹:

```csharp
static int Add(int x, int y) => x + y;

for (int i = 0; i < 1_000_000; i++)
    Add(i, i);
```

* Ð’ **tier0**: JIT Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð·Ð¾Ð² `Add` ÐºÐ°Ðº ÐµÑÑ‚ÑŒ.
* Ð’ **tier1**: `Add` ÑÐºÐ¾Ñ€ÐµÐµ Ð²ÑÐµÐ³Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð·Ð°Ð¸Ð½Ð»Ð°Ð¹Ð½ÐµÐ½ â†’ Ñ†Ð¸ÐºÐ»Ð° Ð²Ñ‹Ð·Ð¾Ð²Ð¾Ð² Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸ÐºÐ°.

---

Ð¥Ð¾Ñ‡ÐµÑˆÑŒ, Ñ Ð¿Ð¾ÐºÐ°Ð¶Ñƒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ **Ð´ÐµÐ¼Ð¾-Ð±ÐµÐ½Ñ‡Ð¼Ð°Ñ€Ðº** Ñ `Stopwatch`, Ð³Ð´Ðµ Ð²Ð¸Ð´Ð½Ð¾ Ñ€Ð°Ð·Ð½Ð¸Ñ†Ñƒ Ð¼ÐµÐ¶Ð´Ñƒ "Ñ…Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ð¼" Ð¸ "Ñ€Ð°Ð·Ð¾Ð³Ñ€ÐµÑ‚Ñ‹Ð¼" JIT Ð´Ð»Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ð°?
